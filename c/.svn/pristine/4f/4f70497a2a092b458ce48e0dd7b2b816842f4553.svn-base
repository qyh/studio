# Makefile to build Toolchains examples

CFLAGS := -Wall -pedantic-errors

all: hello goodbye trig

clean:
	-rm -rf *.o *.so hello goodbye trig

hello: hello.c

goodbye: main.o message.o

goodbye_shared: libmessage.so main.o
	$(CC) $(CFLAGS) -o goodbye main.o libmessage.so

trig:
	$(CC) $(CFLAGS) -lm -o trig trig.c

libmessage.so:
		gcc -fPIC -o message.o -c message.c
		gcc -shared -o libmessage.so message.o
